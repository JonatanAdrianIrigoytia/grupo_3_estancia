<!DOCTYPE html>
<html lang="en">
<%- include("../partials/head.ejs", {style: "form-styles", title: " - Crear cuenta"})%>
	<body>
	<%- include("../partials/header.ejs")%>
		<div class="page-container">
			<main>
			<div class="form-container">
				<h5>Bienvenido a Las Violetas</h5>
					<form action="/users/register" method="POST" id="registerForm" enctype="multipart/form-data">
						<div class="input-container">
							
							<div class="field-container">
								<label for="name">Nombre</label>
								<input
									class="controls <%= locals && locals.errors && errors.firstName ? "input-error" : ""%>"
									type="text"
									name="firstName"
									id="firstName"
									placeholder="Nombre"
									value="<%=locals && locals.oldData && oldData.firstName ?  oldData.firstName : ""%>"
								/>
								<div class="field-errors">
									<ul id="firstNameErrors"></ul>
									<% if (locals && locals.errors && errors.firstName) { %>
										<p class="error"><%=errors.firstName.msg%></p>
									<% } %>
								</div>
							</div>
							
							<div class="field-container">
								<label for="lastName">Apellido</label>
								<input
									class="controls <%= locals && locals.errors && errors.lastName ? "input-error" : ""%>"
									type="text"
									name="lastName"
									id="lastName"
									placeholder="Apellido"
									value="<%=locals && locals.oldData && oldData.lastName ?  oldData.lastName : ""%>"
								/>
								<div class="field-errors">
									<ul id="lastNameErrors"></ul>
									<% if (locals && locals.errors && errors.lastName) { %>
										<p class="error"><%=errors.lastName.msg%></p>
									<% } %>
								</div>
							</div>
							
							<div class="field-container">
								<label for="email">E-mail</label>
								<input
									class="controls <%= locals && locals.errors && errors.email ? "input-error" : ""%>"
									type="email"
									name="email"
									id="email"
									placeholder="E-mail"
									value="<%=locals && locals.oldData && oldData.email ?  oldData.email : ""%>"
								/>
								<div class="field-errors">
									<ul id="emailErrors"></ul>
									<% if (locals && locals.errors && errors.email) { %>
										<p class="error"><%=errors.email.msg%></p>
									<% } %>
								</div>
							</div>
							
							<div class="field-container">
								<label for="password">Contraseña</label>
								<input
									class="controls <%= locals && locals.errors && errors.password ? "input-error" : ""%>"
									name="password"
									type="password"
									id="password"
									placeholder="Contraseña"
								/>
								<div class="field-errors">
									<ul id="passwordErrors" class="hidden">
										<li id="lowerCaseError">La contraseña debe contener minusculas</li>
										<li id="upperCaseError">La contraseña debe contener mayusculas</li>
										<li id="numberError">La contraseña debe contener al menos 1 numero</li>
										<li id="symbolError">La contraseña debe contener al menos 1 caracter especial</li>
										<li id="lengthError">La contraseña debe tener al menos 8 caracteres</li>
									</ul>
									<% if (locals && locals.errors && errors.password) { %>
										<p class="error"><%=errors.password.msg%></p>
									<% } %>
								</div>
							</div>
							
							<div class="field-container">
								<label for="password2">Confime su contraseña</label>
								<input
									class="controls <%= locals && locals.errors && errors.confirmPassword ? "input-error" : ""%>"
									name="confirmPassword"
									type="password"
									id="confirmPassword"
									placeholder="Confirme su contraseña"
								/>
								<div class="field-errors">
									<ul id="confirmPasswordErrors" class="hidden">
										<li id="lowerCaseError2">La contraseña debe contener minusculas</li>
										<li id="upperCaseError2">La contraseña debe contener mayusculas</li>
										<li id="numberError2">La contraseña debe contener al menos 1 numero</li>
										<li id="symbolError2">La contraseña debe contener al menos 1 caracter especial</li>
										<li id="lengthError2">La contraseña debe tener al menos 8 caracteres</li>
										<li id="passwordMatchError">La contraseñas deben ser iguales</li>
									</ul>
									<% if (locals && locals.errors && errors.confirmPassword) { %>
										<p class="error"><%=errors.confirmPassword.msg%></p>
									<% } %>
								</div>

							</div>

							<div class="field-container">
								<label for="image" class="form-label">Imagen de perfil</label>
								<input 
									type="file" 
									id="image" 
									name="image" 
									class="controls <%= locals && locals.errors && errors.image ? "input-error" : ""%>"
								>
								<div class="field-errors">
									<ul id="imageErrors"></ul>
									<% if (locals && locals.errors && errors.image) { %>
										<p class="error"><%=errors.image.msg%></p>
									<% } %>
								</div>
							</div>

							<button class="button" type="submit"><h3>Registrarse</h3></button>
							<button class="button" type="reset"><h3>Cancelar</h3></button>
						</div>
					</form>
					<div class="has-account">
						<span>¿Ya tiene una cuenta?</span>
						<a class="has-account-link" href="/users/login">Inicie sesión</a>
					</div>
			</div>
			</main>
		</div>
		<%- include("../partials/footer.ejs")%>
		<%- include("../partials/scripts.ejs")%>
		<script src="/js/register.js" type="module"></script>
	</body>
</html>
